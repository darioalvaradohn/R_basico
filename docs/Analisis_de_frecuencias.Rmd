---
output: html_document
header-includes:
  - \usepackage{float}
  - \floatstyle{boxed}
  - \restylefloat{figure}
---

<div style="display:flex; align-items:center;">
  <h1 style="margin:0;">Análisis de frecuencias</h1>
  <img src="Imagenes/HNBI_LOGO1.jpeg" alt="Texto alternativo de la imagen" style="width:100px; margin-left:20px;">
</div>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Cuando hay dos frecuencias en un grupo de datos comunmente se hace un **Chi-cuadrado** para ver si un grupo es mayor que el otro.

```{r}
x <- c(RM = 54, B = 46)
```

La función para ejecutar la prueba de Chi-cuadrado es `chisq.test`.

```{r}
chisq.test(x)
```

Se interpreta el valor de P tomando como referencia el valor de alpha que por defecto es de 0.05. Si P < 0.05, si hay diferencias estadísticamente significativas entre los dos grupos. Si P ≥ 0.05, los grupos no presentan diferencias estadísticamente significativas.
Al aumentar el tamaño de la muestra se consigue la significancia del valor de P.

```{r}
y <- c(RM = 170, B = 130)
```

```{r}
chisq.test(y)
```

La fórmula del Chi-cuadrado es la siguiente:

$$
X^2 = \Sigma \frac{(O-E)^2}E
$$
Donde:
  O = valores observados
  E = valores esperados
  
```{r}
chi <- chisq.test(y)
```

```{r}
chi$expected
```

```{r}
chi$observed
```

```{r}
chi$statistic
```

```{r}
chi$residuals
```

```{r}
chi$stdres
```

Para conocer las proporciones de cada grupo respecto al total de la muestra podemos utilizar la función `binom.test` (para datos binomiales).

```{r}
binom.test(170, 300)
```

```{r}
binom.test(130, 300)
```

También podemos estimar la diferencia (en proporción) entre los dos grupos con la función `BinomDiffCI` del paquete `DescTools`

```{r}
library(DescTools)
```

```{r}
BinomDiffCI(170, 300, 130, 300)
```

Aquí, la diferencia es del 13% y se puede decir con un 95% de confianza que la verdadera diferencia entre los dos grupos está entre 5 y 21%

También se puede conocer la proporción cuando hay más de dos grupos (datos multinomiales) con la función `MultinomCI` del paquete `DescTools`.

```{r}
MultinomCI(c(170, 130, 105))
```

El estimado es la proporción (%) para cada grupo, y también muestra su intervalo de confianza.

Tablas de contingencia


