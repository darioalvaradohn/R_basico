---
output: html_document
header-includes:
  - \usepackage{float}
  - \floatstyle{boxed}
  - \restylefloat{figure}
---

<div style="display:flex; align-items:center;">
  <h1 style="margin:0;">Pruebas de normalidad y homocedasticidad</h1>
  <img src="Imagenes/HNBI_LOGO1.jpeg" alt="Texto alternativo de la imagen" style="width:100px; margin-left:20px;">
</div>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Para realizar algunos métodos estadísticos es necesario que nuestros datos cumplan algunos supuestos. Algunas pruebas paramétricas requieren que la varianza de los datos cumpla una **distribución normal** y que tenga **homogeneidad** (homocedasticidad).

```{r}
library(rio)
```

```{r}
datos <- import("data/medidas_personas.csv")
head(datos)
```

### Contenido{.tabset .tabset-pills}

#### Pruebas de normalidad

Para evaluar la normalidad de nuestros datos utilizaremos la prueba de Shapiro-Wilk

```{r}
shapiro.test(datos$altura)
```

Para interpretar el resultado de la prueba de Shapiro se observa el valor de P tomando como referencia el valor de alpha que por defecto es de 0.05.
Si el valor de P es mayor que alpha (0.05), nuestros datos provienen de una muestra con una distribución normal. Si el valor de P es menor que alpha (0.05), los datos no presentan una distribución normal y se debería utilizar una prueba no paramétrica para analizar los datos.

Es recomendable hacer las pruebas de normalidad para una variable separándola por cada grupo de interés.
Utilizaremos la función `subset()` para separar nuestras variables de acuerdo con los grupos de interés.

```{r}
sM <- subset(datos, sexo == "M")
sF <- subset(datos, sexo == "F")
```

```{r}
shapiro.test(sM$altura)
```

```{r}
shapiro.test(sF$altura)
```


#### Prueba de homogeneidad (homocedasticidad)

Algunas pruebas paramétricas como el ANOVA requieren que nuestros datos cumplan el supuesto de homogeneidad de la varianza, también conocido como supuesto de homocedasticidad. Para evaluar la homogeneidad de la varianza de una variable entre diferentes grupos utilizaremos la prueba de Levene con la función `leveneTest()` del paquete `car`.

```{r}
library(car)
```

```{r}
leveneTest(altura ~ sexo, data = datos)
```

Al igual que para la prueba de normalidad, en la prueba de Levene se observa el valor de P tomando como referencia el valor de alpha que por defecto es de 0.05.
Si el valor de P es mayor que alpha (0.05), la varianza de nuestros datos es homogenea. Si el valor de P es menor que alpha (0.05), si hay diferencias en la varianza de nuestros datos.

También podemos utilizar la función `LeveneTest()` del paquete `DescTools`.

```{r}
library(DescTools)
```

```{r}
LeveneTest(altura ~ sexo, data = datos)
```

